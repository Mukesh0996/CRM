(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],[,,,,,,function(e,t,n){e.exports={signin:"Signup_signin__3qaNE",signUp:"Signup_signUp__2mxJY",signupContainer:"Signup_signupContainer__36tSC",form:"Signup_form__2O_mI","form-detail":"Signup_form-detail__qUsRp","form-control":"Signup_form-control__3CqB4",submitBtn:"Signup_submitBtn__1cXSz",error:"Signup_error__HgrnT",signinSuccess:"Signup_signinSuccess__3wKNo"}},,,,,,,,function(e,t,n){e.exports={signup:"SignIn_signup__expBU",signinContainer:"SignIn_signinContainer__1Y6WC",form:"SignIn_form__1H5zh","form-detail":"SignIn_form-detail__3ylRX",rightContainer:"SignIn_rightContainer__u95-z","form-control":"SignIn_form-control__2IMDK",submitBtn:"SignIn_submitBtn__3uB1f",error:"SignIn_error__q99gm"}},function(e,t,n){e.exports={"main-header":"Header_main-header__39fiN",brand:"Header_brand__1pQ0M",navigation:"Header_navigation__2zhpG",item:"Header_item__Sn-Bj",active:"Header_active__2MpfG"}},function(e,t,n){e.exports={record:"Record_record__3gWUK",checkbox:"Record_checkbox__1qWFO",column:"Record_column__3rbvX"}},function(e,t,n){e.exports={addContactForm:"AddContact_addContactForm__1XgAD",formActions:"AddContact_formActions__1E6b3",alt:"AddContact_alt__158nl",save:"AddContact_save__1AHdh",formfields:"AddContact_formfields__1luoR",formSection:"AddContact_formSection__2ZgdE",inp:"AddContact_inp__2b9AW",address:"AddContact_address__3rCdc"}},,,function(e,t,n){e.exports={"lead-actions":"LeadsActions_lead-actions__2X-mg",btn:"LeadsActions_btn__Zf26J","btn-alt":"LeadsActions_btn-alt__JRmI5",actions:"LeadsActions_actions__3plrT",additional:"LeadsActions_additional__23MOZ","other-actions":"LeadsActions_other-actions__3TEWf","actions-list":"LeadsActions_actions-list__YQI--"}},function(e,t,n){e.exports={filterSection:"Filter_filterSection__2PNZ4",filterOptions:"Filter_filterOptions__1E8mF",lighter:"Filter_lighter__xFJ0f",lightest:"Filter_lightest__5gCLo",filterCriteria:"Filter_filterCriteria__bFEj8",filterMethods:"Filter_filterMethods__3BWvZ",filterInput:"Filter_filterInput__AdX91",select:"Filter_select__2XKu3"}},,,function(e,t,n){e.exports={leadsContainer:"LeadsContainer_leadsContainer__PLrOP",leadsrecords:"LeadsContainer_leadsrecords__C-hRo","lead-columns":"LeadsContainer_lead-columns__NNuRL",column:"LeadsContainer_column__2diPq",record:"LeadsContainer_record__3RTzU"}},function(e,t,n){e.exports={form:"AddLead_form__2Hqup",formActions:"AddLead_formActions__3G8vo",alt:"AddLead_alt__2dtap",save:"AddLead_save__34ss4",formfields:"AddLead_formfields__1qASI",inp:"AddLead_inp__aaBvH"}},,function(e,t,n){e.exports={formActions:"FormActions_formActions__1cIjH",alt:"FormActions_alt__VSmRq",save:"FormActions_save__cmu2X"}},,,function(e,t,n){e.exports={formControl:"Input_formControl__3wXbM",error:"Input_error__3RfC3",errorMessage:"Input_errorMessage__12cnK"}},,,function(e,t,n){e.exports={contactsContainer:"contactsContainer_contactsContainer__1frl7",contactsRecords:"contactsContainer_contactsRecords__2tMMn"}},,,function(e,t,n){e.exports={loading:"loadingpage_loading__DYYAj",spinner:"loadingpage_spinner__3-wsd"}},,,,,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(28),s=n.n(r),i=n(18),o=(n(44),n(4)),l=n(33),d=n.n(l),u=n(2),j=n(21),b=n.n(j),m=n(0),h=function(e){var t=e.leadsCols,n=e.filter,c=e.module,r=Object(a.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),j=d[0],h=d[1],O=Object(a.useState)(!1),f=Object(u.a)(O,2),p=f[0],x=f[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),_=v[0],C=v[1],N=Object(a.useRef)(),I=function(){var e=N.current,t=e.name,a=e.value;n({name:t,value:a,filterByMethod:_})},S=["is","contains"].map((function(e,t){return Object(m.jsx)("li",{onClick:function(){C(e)},children:e},t)}));return Object(m.jsxs)("section",{className:b.a.filterSection,onClick:function(){p&&x(!1)},children:[Object(m.jsxs)("p",{children:["Filter ",c," By:"]}),t.map((function(e,t){return Object(m.jsxs)("div",{className:"filterby",children:[" ",Object(m.jsxs)("div",{className:b.a.filterOptions,children:[Object(m.jsx)("input",{type:"checkbox",onClick:function(){var t;t=e.label,o((function(e){return!e})),h(t.toLowerCase().split(" ").join("_"))}}),Object(m.jsx)("p",{className:b.a.lighter,children:e.label})]}),i&&j===e.label.toLowerCase().split(" ").join("_")&&Object(m.jsxs)("div",{onClick:function(){x((function(e){return!e}))},className:b.a.filterCriteria,children:[_||Object(m.jsx)("span",{style:{fontWeight:"lighter"},children:"Select Filter"})," ",p&&Object(m.jsxs)("ul",{className:b.a.filterMethods,children:[" ",S," "]})]}),i&&j===e.label.toLowerCase().split(" ").join("_")&&Object(m.jsxs)("div",{className:b.a.filterInput,children:[Object(m.jsx)("input",{ref:N,style:{minWidth:"4rem"},name:j,type:"text"}),Object(m.jsx)("button",{onClick:I,children:"Filter"})]})]},t)}))]})},O=function(){return Object(m.jsxs)("section",{className:d.a.contactsContainer,children:[Object(m.jsx)(h,{module:"contacts",leadsCols:[]}),Object(m.jsx)("section",{className:d.a.contactsRecords})]})},f=n(7),p=n(20),x=n.n(p),g=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(o.i)();return Object(m.jsxs)("div",{className:x.a["lead-actions"],children:[Object(m.jsx)("div",{style:{marginLeft:"1.5rem"},children:Object(m.jsx)("h2",{children:e.module})}),Object(m.jsxs)("div",{className:x.a.actions,children:[Object(m.jsxs)(f.b,{className:x.a.btn,to:"".concat(s.url,"/").concat(e.path),children:["Add ",e.module,Object(m.jsx)("div",{})]}),Object(m.jsxs)("div",{className:x.a.additional,children:[Object(m.jsx)("button",{className:"".concat(x.a.btn," ").concat(x.a["btn-alt"]),onClick:function(){r((function(e){return!e}))},children:"Actions"}),c&&Object(m.jsx)("div",{className:x.a["other-actions"],children:Object(m.jsxs)("ul",{className:x.a["actions-list"],children:[Object(m.jsx)("li",{children:"Send Email"}),Object(m.jsx)("li",{children:"Bulk Update"}),Object(m.jsx)("li",{children:"Bulk Delete"})]})})]})]})]})},v=function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(g,{module:"Contacts",path:"add-contact"}),Object(m.jsx)(O,{contactCols:[],contacts:[]})]})},_=function(){return Object(m.jsx)(a.Fragment,{children:" "})},C=n(36),N=n.n(C),I=function(e){return Object(m.jsxs)("div",{className:N.a.loading,children:[" ",Object(m.jsx)("div",{className:N.a.spinner})]})},S=n(23),y=Object(S.b)({name:"leads",initialState:{filterColumns:[],columns:[],leads:[],filteredLeads:[],canEdit:null,canCreate:null,filterApplied:!1},reducers:{replaceLeads:function(e,t){e.leads=t.payload.leads,e.canCreate=t.payload.canCreate,e.canEdit=t.payload.canEdit,e.columns=t.payload.cols},addLead:function(e,t){var n=t.payload;e.leads.push(n)},addFilteredLeads:function(e,t){e.filterApplied=!0,e.filteredLeads=t.payload.filteredLeads},addFilterColumns:function(e,t){e.filterColumns=t.payload.filterColumns}}}),L=y.actions,w=y,k=n(16),A=n.n(k),F=c.a.createContext({token:"",isLoggedIn:!1,userId:"",orgId:"",signIn:function(){},signOut:function(){}}),T=function(e){var t=Object(a.useContext)(F).orgId,n=Object(a.useState)(!1),c=Object(u.a)(n,2),r=c[0],s=c[1];return Object(m.jsxs)("div",{className:A.a.record,children:[Object(m.jsx)("div",{style:{minWidth:"3rem",position:"fixed"},className:A.a.checkbox,children:Object(m.jsx)("input",{type:"checkbox",checked:r,onChange:function(){s((function(e){return!e})),console.log(e.id)}})}),Object(m.jsxs)(f.b,{className:A.a.column,to:"/org/".concat(t,"/leads/").concat(e.lead.id),children:[Object(m.jsxs)("div",{style:{marginLeft:"3rem"},className:A.a.column,children:[" ",e.lead.first_name||"-"," "]}),Object(m.jsxs)("div",{className:A.a.column,children:[" ",e.lead.last_name||"-"," "]}),Object(m.jsxs)("div",{className:A.a.column,style:{minWidth:"18rem"},children:[" ",e.lead.company||"-","  "]}),Object(m.jsxs)("div",{className:A.a.column,children:[" ",e.lead.email||"-"," "]}),Object(m.jsxs)("div",{className:A.a.column,children:[" ",e.lead.secondary_email||"-"," "]}),Object(m.jsxs)("div",{className:A.a.column,children:[" ",e.lead.website||"-"," "]})]})]})},E=c.a.memo(T),B=n(24),H=n.n(B),R=function(e){var t=e.leadCols,n=e.isLoading,r=e.filterCols,s=Object(i.b)(),o=Object(i.c)((function(e){return e.leads})),l=o.leads,d=o.filterApplied,j=o.filteredLeads,b=Object(a.useState)([function(e,t){var n=e.name,a=e.value,c=t.filter((function(e){return e[n]===a}));s(L.addFilteredLeads({filteredLeads:c}))},function(){}]),O=Object(u.a)(b,1)[0],f=Object(a.useState)(["is","contains"]),p=Object(u.a)(f,1)[0],x=Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("div",{style:{minWidth:"3rem",position:"fixed",backgroundColor:"#fff",borderRadius:"10px 0 0 0"},className:H.a.column,children:Object(m.jsx)("input",{type:"checkbox"})}),t.map((function(e,t){return Object(m.jsx)("div",{className:H.a.column,children:e.label},t)}))]});return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)("section",{className:H.a.leadsContainer,children:[n&&Object(m.jsx)(I,{}),Object(m.jsx)(h,{leadsCols:r,filter:function(e){var t=p.findIndex((function(t){return t===e.filterByMethod}));(0,O[t])(e,l)},module:"leads"}),Object(m.jsxs)("section",{className:H.a.leadsrecords,children:[Object(m.jsx)("div",{className:H.a["lead-columns"],children:x}),d&&0===j.length&&Object(m.jsx)("div",{style:{height:"100%",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)("p",{children:"No Leads present for the specified criteria. Please refresh the page."})}),!!l&&0===j.length&&!d&&l.map((function(e){return Object(m.jsx)(E,{lead:e},e.id)})),d&&0!==j.length&&j.map((function(e){return Object(m.jsx)(E,{lead:e},e.id)}))]})]})})},V=n(5),P=n.n(V),M=n(10),D=function(e,t){var n=Object(a.useState)(!1),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)({isValid:!1,value:"",message:""}),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(a.useContext)(F),m=Object(i.b)();return{isLoading:r,sendRequest:function(){var n=Object(M.a)(P.a.mark((function n(a,c){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(!0),n.prev=1,!t){n.next=8;break}return n.next=5,m(e(a,b.token));case 5:r=n.sent,n.next=12;break;case 8:return n.next=10,e(a,b.token);case 10:r=n.sent,c(r);case 12:n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),s(!1),j({isValid:n.t0.isValid,message:n.t0.message,value:n.t0.value});case 18:s(!1);case 19:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e,t){return n.apply(this,arguments)}}(),error:d}},q="http://localhost:8080",U=function(){var e=Object(M.a)(P.a.mark((function e(t,n){var a,c,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/org/").concat(t,"/leads/leadstable"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,a.ok){e.next=11;break}throw(r=new Error(c.message||"Error Occured!")).isValid=c.isValid||!1,r.value=c.value||"",r;case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(e,t){return function(){var n=Object(M.a)(P.a.mark((function n(a){var c,r,s;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(q,"/org/").concat(e,"/leads/getfilterColumns"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:return c=n.sent,n.next=5,c.json();case 5:if(r=n.sent,c.ok){n.next=11;break}throw(s=new Error(r.message||"Error Occured!")).isValid=r.isValid||!1,s.value=r.value||"",s;case 11:a(L.addFilterColumns({filterColumns:r.data}));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},z=function(e,t){return function(){var n=Object(M.a)(P.a.mark((function n(a){var c,r,s;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(q,"/org/").concat(e,"/leads/getrecords"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:return c=n.sent,n.next=5,c.json();case 5:if(r=n.sent,c.ok){n.next=11;break}throw(s=new Error(r.message||"Error Occured!")).isValid=r.isValid||!1,s.value=r.value||"",s;case 11:a(L.replaceLeads({leads:r.data.leads,cols:r.data.leadCols,canCreate:!0,canEdit:!0}));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},G=function(e,t){return function(){var n=Object(M.a)(P.a.mark((function n(a){var c,r,s,i,o;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.orgId,delete e.orgId,r=e,n.next=5,fetch("".concat(q,"/org/").concat(c,"/leads/addrecord"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 5:return s=n.sent,n.next=8,s.json();case 8:if(i=n.sent,s.ok){n.next=14;break}throw(o=new Error(i.message)).isValid=i.isValid||!1,o.value=i.value||"",o;case 14:return a(L.addLead({lead:i.data})),n.abrupt("return",i.data);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},J=function(){var e=Object(a.useContext)(F),t=D(z,!0),n=t.sendRequest,c=t.isLoading,r=t.error,s=D(W,!0),o=s.sendRequest,l=s.isLoading,d=s.error,u=Object(i.c)((function(e){return e.leads})),j=u.filterColumns,b=u.leads,h=u.columns;return Object(a.useEffect)((function(){n(e.orgId),o(e.orgId)}),[e.orgId]),r.isValid||d.isValid?Object(m.jsxs)("div",{style:{height:"93vh",backgroundColor:"white",color:"red",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:[r&&d&&Object(m.jsx)("p",{children:r.message}),Object(m.jsx)("button",{children:"Please Re-Login"})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(g,{path:"add-lead",module:"Leads"}),Object(m.jsx)(R,{filterCols:j,leadCols:h||[],leads:b||[],isLoading:c&&l,filterError:d,getLeadsError:r})]})},X=n(14),K=n.n(X),Y=n.p+"static/media/image.f5db14d5.png",Z={value:"",isTouched:!1},Q=function(e,t){return"INPUT"===t.type?{value:t.val,isTouched:e.isTouched}:"BLUR"===t.type&&0===e.value.length?{value:"",isTouched:!1}:"BLUR"===t.type&&e.value.length>0?{value:e.value,isTouched:!0}:void 0},$=function(e){var t=Object(a.useReducer)(Q,Z),n=Object(u.a)(t,2),c=n[0],r=n[1],s=e(c.value);return{value:c.value,valueChangeHandler:function(e){r({type:"INPUT",val:e.target.value})},isValid:s,blurHandler:function(){r({type:"BLUR"})},isTouched:c.isTouched}},ee="http://localhost:8080",te=function(){var e=Object(M.a)(P.a.mark((function e(t){var n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ee,"/login"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=11;break}throw(c=new Error(a.message)).isValid=a.isValid,c.value=a.value,c;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(M.a)(P.a.mark((function e(t){var n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ee,"/signup"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=11;break}throw(c=new Error(a.message)).isValid=a.isValid,c.value=a.value,c;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){return e.includes("@")&&e.trim().length>3},ce=function(e){return""!==e.trim()&&e.trim().length>=3},re=function(){var e=Object(a.useContext)(F),t=$(ae),n=t.value,c=t.valueChangeHandler,r=t.blurHandler,s=t.isValid,i=t.isTouched,o=$(ce),l=o.value,d=o.valueChangeHandler,u=o.blurHandler,j=o.isValid,b=(o.isTouched,D(te,!1)),h=b.isLoading,O=b.error,p=b.sendRequest;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)("div",{className:K.a.signup,children:Object(m.jsxs)("button",{children:[" ",Object(m.jsx)(f.b,{to:"/signup",children:"SIGN UP"})," "]})}),Object(m.jsxs)("main",{className:K.a.signinContainer,children:[h&&Object(m.jsx)(I,{}),Object(m.jsxs)("section",{className:K.a.form,children:[Object(m.jsxs)("div",{className:K.a["form-detail"],children:[Object(m.jsx)("h1",{children:"Sign in"}),Object(m.jsx)("p",{children:"to access CRM."})]}),Object(m.jsxs)("form",{onSubmit:function(t){(t.preventDefault(),s&&j)&&p({email:n,password:l},(function(t){e.signIn(t)}))},children:[Object(m.jsxs)("div",{className:K.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{type:"text",id:"email",onChange:c,onBlur:r}),!s&&i&&Object(m.jsx)("p",{className:K.a.error,children:"Please enter a valid email"}),!O.isValid&&"email"===O.value&&Object(m.jsx)("p",{className:K.a.error,children:O.message})]}),Object(m.jsxs)("div",{className:K.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",onChange:d,onBlur:u}),!O.isValid&&"password"===O.value&&Object(m.jsx)("p",{className:K.a.error,children:O.message})]}),Object(m.jsx)("button",{className:K.a.submitBtn,children:"Sign In"})]})]}),Object(m.jsx)("section",{className:K.a.rightContainer,children:Object(m.jsx)("img",{src:Y,alt:"CRM"})})]})]})},se=n(6),ie=n.n(se),oe=function(e){return""!==e.trim()&&e.trim().length>=3},le=function(e){return!isNaN(e)&&e.trim().length>=10},de=function(e){return e.includes("@")&&e.trim().length>3},ue=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=D(ne,!1),s=r.isLoading,i=r.error,o=r.sendRequest,l=$(oe),d=l.value,j=l.valueChangeHandler,b=l.blurHandler,h=l.isValid,O=l.isTouched,p=$(oe),x=p.value,g=p.valueChangeHandler,v=p.blurHandler,_=p.isValid,C=p.isTouched,N=$(de),S=N.value,y=N.valueChangeHandler,L=N.blurHandler,w=N.isValid,k=N.isTouched,A=$(le),F=A.value,T=A.valueChangeHandler,E=A.blurHandler,B=A.isValid,H=A.isTouched,R=$(oe),V=R.value,P=R.valueChangeHandler,M=R.blurHandler,q=R.isValid,U=R.isTouched,W=$(oe),z=W.value,G=W.valueChangeHandler,J=W.blurHandler,X=W.isValid,K=W.isTouched;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)("div",{className:ie.a.signin,children:[" ",Object(m.jsx)("p",{children:" Already have an account? "}),Object(m.jsx)(f.b,{to:"/",children:"SIGN IN"})]}),Object(m.jsxs)("main",{className:ie.a.signupContainer,children:[s&&Object(m.jsx)(I,{}),!i.isValid&&Object(m.jsxs)("p",{className:ie.a.signUp,children:[i.message," "]}),Object(m.jsxs)("section",{className:ie.a.form,children:[Object(m.jsxs)("div",{className:ie.a["form-detail"],children:[Object(m.jsx)("h1",{children:"Sign up. For Free"}),Object(m.jsx)("p",{children:"to access CRM."})]}),Object(m.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),h&&_&&w&&B&&q&&X)&&o({first_name:d,last_name:x,email:S,contact:F,org_name:V,password:z},(function(e){c(e.message)}))},autoComplete:"false",children:[Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"f_name",children:"First Name"}),Object(m.jsx)("input",{type:"text",id:"f_name",name:"first_name",onChange:function(e){return j(e)},onBlur:b}),!h&&O&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid First Name."})]}),Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"l_name",children:"Last Name"}),Object(m.jsx)("input",{type:"text",id:"l_name",name:"last_name",onBlur:v,onChange:g}),!_&&C&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid Last Name."})]}),Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"email",children:"Work Email"}),Object(m.jsx)("input",{type:"text",id:"email",name:"email",onBlur:L,onChange:y}),!w&&k&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid Email."})]}),Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"contact",children:"Contact"}),Object(m.jsx)("input",{type:"text",id:"contact",name:"contact",onBlur:E,onChange:T}),!B&&H&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid Contact number."})]}),Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"orgname",children:"Organizations Name"}),Object(m.jsx)("input",{type:"text",id:"orgname",name:"org_name",onBlur:M,onChange:P}),!q&&U&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid organizations name."})]}),Object(m.jsxs)("div",{className:ie.a["form-control"],children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",name:"password",autoComplete:"false",onBlur:J,onChange:G}),!X&&K&&Object(m.jsx)("p",{className:ie.a.error,children:"Please enter a valid password. Should be of length 3."})]}),Object(m.jsx)("button",{className:ie.a.submitBtn,children:"Sign Up"}),n.length>0&&Object(m.jsxs)("p",{className:ie.a.signinSuccess,children:[n," ",Object(m.jsx)(f.b,{to:"/",children:"Sign In"})]})]})]})]})]})},je=n(15),be=n.n(je),me=function(){var e=Object(a.useContext)(F).orgId;return Object(m.jsxs)("header",{className:be.a["main-header"],children:[Object(m.jsx)("div",{className:be.a.brand,children:"CRM"}),Object(m.jsx)("nav",{className:be.a.navigation,children:Object(m.jsxs)("ul",{className:be.a.items,children:[Object(m.jsx)("li",{className:be.a.item,children:Object(m.jsx)(f.c,{activeClassName:be.a.active,to:"/org/".concat(e,"/home"),children:"Home"})}),Object(m.jsx)("li",{className:be.a.item,children:Object(m.jsx)(f.c,{activeClassName:be.a.active,to:"/org/".concat(e,"/leads"),children:"Leads"})}),Object(m.jsx)("li",{className:be.a.item,children:Object(m.jsx)(f.c,{activeClassName:be.a.active,to:"/org/".concat(e,"/contacts"),children:"Contacts"})})]})})]})},he=c.a.memo(me),Oe=n(19),fe=n(8),pe=function(e){var t=D(e,!1),n=t.isLoading,c=t.error,r=t.sendRequest,s=Object(a.useState)({}),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(a.useContext)(F);return Object(a.useEffect)((function(){r(d.orgId,(function(e){l(e)}))}),[]),{inputHandler:Object(a.useCallback)((function(e,t){var n=e.target,a=n.name,c=n.value,r=Object(fe.a)({},o);"billing"===t&&(r.address.billing[a].value=c,l(Object(fe.a)({},r))),"shipping"===t&&(r.address.shipping[a].value=c,l(Object(fe.a)({},r))),"address"!==t&&"information"!==t||(r[t][a].value=c,l(Object(fe.a)({},r)))}),[o]),isLoading:n,httpError:c,address:o.address,information:o.information}},xe=n(25),ge=n.n(xe),ve=n(30),_e=n.n(ve),Ce=function(e){var t=e.label,n=e.value,a=e.type,c=e.name,r=e.handleChange,s=e.section,i=e.error;return Object(m.jsxs)("div",{className:"".concat(_e.a.formControl," ").concat(i&&i.value===c?_e.a.error:""),children:[Object(m.jsx)("label",{htmlFor:c,children:t}),Object(m.jsx)("input",{id:c,type:a,value:n,name:c,onChange:function(e){return r(e,s)},autoComplete:"none"}),i&&i.value===c&&Object(m.jsx)("p",{className:_e.a.errorMessage,children:i.message})]})},Ne=c.a.memo(Ce),Ie=n(27),Se=n.n(Ie),ye=function(e){var t=e.saveHandler,n=e.module,a=Object(o.g)();return Object(m.jsxs)("div",{className:Se.a.formActions,children:[Object(m.jsxs)("h2",{children:["Create ",n]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:Se.a.alt,onClick:function(e){e.preventDefault(),a.goBack(-1)},children:"Cancel"}),Object(m.jsx)("button",{className:Se.a.alt,children:"Save and New"}),Object(m.jsx)("button",{type:"submit",className:Se.a.save,onClick:t,children:"Save"})]})]})},Le=function(){var e,t,n=pe(U),r=n.inputHandler,s=n.address,i=n.information,o=n.isLoading,l=D(G,!0),d=l.sendRequest,j=l.error,b=Object(a.useState)(""),h=Object(u.a)(b,2),O=h[0],f=h[1],p=Object(a.useContext)(F);s&&(t=Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h3",{children:"Address Information"}),Object(m.jsx)("div",{className:ge.a.inp,children:Object.values(s).map((function(e){return Object(m.jsx)(Ne,{label:e.label,type:e.type,name:e.name,value:e.value,section:e.section,handleChange:r},e.id)}))})]})),i&&(e=Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h3",{children:"Lead Information"}),Object(m.jsx)("div",{className:ge.a.inp,children:Object.values(i).map((function(e){return Object(m.jsx)(Ne,{label:e.label,type:e.type,name:e.name,value:e.value,section:e.section,handleChange:r,error:j},e.id)}))})]}));return Object(m.jsxs)("form",{className:ge.a.form,autoComplete:"none",children:[o&&Object(m.jsx)(I,{}),Object(m.jsx)(ye,{saveHandler:function(e){e.preventDefault();var t={description:O,orgId:p.orgId};Object.values(s).map((function(e){return t=Object(fe.a)(Object(fe.a)({},t),{},Object(Oe.a)({},e.name,e.value))})),Object.values(i).map((function(e){return t=Object(fe.a)(Object(fe.a)({},t),{},Object(Oe.a)({},e.name,e.value))})),d(t,(function(){console.log("re directing")}))}}),Object(m.jsxs)("div",{className:ge.a.formfields,children:[e,t,Object(m.jsx)("h3",{children:"Description Information"}),Object(m.jsx)("div",{className:ge.a.inp,children:Object(m.jsx)("textarea",{type:"text",name:"description",onChange:function(e){return f(e.target.value)}})})]})]})},we=Object(S.b)({name:"contacts",initialState:{filterColumns:[],contacts:[],canEdit:null,canCreate:null,filterApplied:!1},reducers:{}}),ke=(we.actions,function(){var e=Object(M.a)(P.a.mark((function e(t,n){var a,c,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:8080","/org/").concat(t,"/contacts/contactsfields"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,a.ok){e.next=11;break}throw(r=new Error(c.message||"Error Occured!")).isValid=c.isValid||!1,r.value=c.value||"",r;case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ae=n(17),Fe=n.n(Ae),Te=function(){var e,t,n=pe(ke,!1),c=n.isLoading,r=n.information,s=n.address,i=n.inputHandler,o=Object(a.useContext)(F).orgId;s&&(e=Object.values(s.shipping).map((function(e){return Object(m.jsx)(Ne,{kwy:e.id,label:e.label,type:e.type,name:e.name,value:e.value,handleChange:i,section:e.section})})),t=Object.values(s.billing).map((function(e){return Object(m.jsx)(Ne,{kwy:e.id,label:e.label,type:e.type,name:e.name,value:e.value,handleChange:i,section:e.section})})));var l=function(e){e.preventDefault();var t={orgId:o};Object.values(r).map((function(e){return t=Object(fe.a)(Object(fe.a)({},t),{},Object(Oe.a)({},e.name,e.value))})),Object.values(s.billing).map((function(e){return t=Object(fe.a)(Object(fe.a)({},t),{},Object(Oe.a)({},e.name,e.value))})),Object.values(s.shipping).map((function(e){return t=Object(fe.a)(Object(fe.a)({},t),{},Object(Oe.a)({},e.name,e.value))})),console.log(t)};return Object(m.jsxs)("form",{className:Fe.a.addContactForm,autoComplete:"none",onSubmit:l,children:[c&&Object(m.jsx)(I,{}),Object(m.jsx)(ye,{module:"Contact",saveHandler:l}),Object(m.jsxs)("div",{className:Fe.a.formfields,children:[Object(m.jsx)("h3",{className:Fe.a.formSection,children:"Contact Information"}),Object(m.jsx)("div",{className:Fe.a.inp,children:Object.values(r||[]).map((function(e){return Object(m.jsx)(Ne,{label:e.label,type:e.type,name:e.name,value:e.value,handleChange:i,section:e.section},e.id)}))}),Object(m.jsx)("h3",{className:Fe.a.formSection,children:"Address Information"}),Object(m.jsxs)("div",{className:Fe.a.inp,children:[Object(m.jsx)("button",{style:{display:"flex",alignItems:"flex-end"},children:"Copy Address"}),Object(m.jsxs)("div",{className:Fe.a.address,children:[Object(m.jsx)("div",{children:e}),Object(m.jsx)("div",{children:t})]})]}),Object(m.jsx)("h3",{className:Fe.a.formSection,children:"Description Information"}),Object(m.jsx)("div",{className:Fe.a.inp,children:Object(m.jsx)("textarea",{type:"text",name:"description"})})]})]})},Ee=(n(49),function(){var e=Object(o.h)(),t=e.orgId,n=e.leadId;return console.log(t,n),Object(m.jsx)("p",{children:"Viewing lead record"})});var Be=function(){var e=Object(a.useContext)(F),t=e.isLoggedIn,n=e.orgId,c=Object(o.g)();return t||c.replace("/"),Object(m.jsxs)(a.Fragment,{children:[t&&Object(m.jsx)(he,{}),Object(m.jsxs)(o.d,{children:[Object(m.jsxs)(o.b,{path:"/",exact:!0,children:[" ",t?Object(m.jsx)(o.a,{to:"/org/".concat(n,"/home")}):Object(m.jsx)(re,{})]}),Object(m.jsx)(o.b,{path:"/signup",children:Object(m.jsx)(ue,{})}),Object(m.jsxs)(o.b,{path:"/org/:orgId/home",children:[" ",t?Object(m.jsx)(_,{}):Object(m.jsx)(o.a,{to:"/"})]}),Object(m.jsxs)(o.b,{path:"/org/:orgId/leads",exact:!0,children:[" ",t?Object(m.jsx)(J,{}):Object(m.jsx)(o.a,{to:"/"})]}),Object(m.jsxs)(o.b,{path:"/org/:orgId/leads/add-lead",children:[t?Object(m.jsx)(Le,{}):Object(m.jsx)(o.a,{to:"/"})," "]}),Object(m.jsxs)(o.b,{path:"/org/:orgId/leads/:leadId",children:[t?Object(m.jsx)(Ee,{}):Object(m.jsx)(o.a,{to:"/"})," "]}),Object(m.jsxs)(o.b,{path:"/org/:orgId/contacts",exact:!0,children:[" ",t?Object(m.jsx)(v,{}):Object(m.jsx)(o.a,{to:"/"})," "]}),Object(m.jsxs)(o.b,{path:"/org/:orgId/contacts/add-contact",children:[t?Object(m.jsx)(Te,{}):Object(m.jsx)(o.a,{to:"/"})," "]}),Object(m.jsx)(o.b,{path:"*",render:function(){return Object(m.jsx)(o.a,{to:"/"})}})]})]})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},Re=function(e){var t=Object(a.useState)(localStorage.getItem("token")),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(localStorage.getItem("userId")),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(a.useState)(localStorage.getItem("orgId")),j=Object(u.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(localStorage.getItem("iat")),f=Object(u.a)(O,2),p=f[0],x=f[1],g=Object(a.useState)(localStorage.getItem("expAt")),v=Object(u.a)(g,2),_=v[0],C=v[1],N=function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("orgId"),localStorage.removeItem("expAt"),localStorage.removeItem("iat")};(new Date).getTime()>Number(_)&&0!==Number(_)?N():(new Date).getTime()>p&&(new Date).getTime()<_&&(localStorage.setItem("iat",(new Date).getTime()),x((new Date).getTime())),Object(a.useEffect)((function(){p&&_&&setTimeout(N,Number(_)-Number(p))}),[p,_]);var I={isLoggedIn:!!c&&!!o&&!!b,token:c,userId:o,orgId:b,signIn:function(e){var t=e.token,n=e.userId,a=e.orgId,c=(new Date).getTime(),s=c+864e5;r(t),l(n),h(a),x(c),C(s),localStorage.setItem("token",t),localStorage.setItem("userId",n),localStorage.setItem("orgId",a),localStorage.setItem("iat",c),localStorage.setItem("expAt",s)},signOut:N};return Object(m.jsx)(F.Provider,{value:I,children:e.children})},Ve=Object(S.a)({reducer:{leads:w.reducer}});s.a.render(Object(m.jsx)(Re,{children:Object(m.jsx)(f.a,{children:Object(m.jsx)(i.a,{store:Ve,children:Object(m.jsx)(Be,{})})})}),document.getElementById("root")),He()}],[[50,1,2]]]);
//# sourceMappingURL=main.c238082b.chunk.js.map