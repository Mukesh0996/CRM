{"ast":null,"code":"import styles from'./SignIn.module.css';import image from'../images/image.png';import{Fragment,useContext}from'react';import{Link}from'react-router-dom';import LoadingPage from'./loadingPage';import useInput from'../Hooks/inputHook';import AuthContext from'../Store/Auth/AuthContext';import useHttp from'../Hooks/httpHook';import{postSignIn}from'../library/authFns';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isEmail=function isEmail(value){return value.includes('@')&&value.trim().length>3;};var isEmpty=function isEmpty(value){return value.trim()!==\"\"&&value.trim().length>=3;};var SignIn=function SignIn(){var ctx=useContext(AuthContext);var _useInput=useInput(isEmail),email=_useInput.value,emailChangehandler=_useInput.valueChangeHandler,emailBlurHandler=_useInput.blurHandler,emailValid=_useInput.isValid,emailTouched=_useInput.isTouched;var _useInput2=useInput(isEmpty),password=_useInput2.value,passwordChangehandler=_useInput2.valueChangeHandler,passwordBlurHandler=_useInput2.blurHandler,passwordValid=_useInput2.isValid,passwordTouched=_useInput2.isTouched;var _useHttp=useHttp(postSignIn,false),isLoading=_useHttp.isLoading,error=_useHttp.error,sendRequest=_useHttp.sendRequest;var signInhandler=function signInhandler(e){e.preventDefault();if(emailValid&&passwordValid){var signInObj={email:email,password:password};sendRequest(signInObj,function(data){ctx.signIn(data);});}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.signup,children:/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"SIGN UP\"}),\" \"]})}),/*#__PURE__*/_jsxs(\"main\",{className:styles.signinContainer,children:[isLoading&&/*#__PURE__*/_jsx(LoadingPage,{}),/*#__PURE__*/_jsxs(\"section\",{className:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-detail\"],children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"p\",{children:\"to access CRM.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:signInhandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",onChange:emailChangehandler,onBlur:emailBlurHandler}),!emailValid&&emailTouched&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:\"Please enter a valid email\"}),!error.isValid&&error.value===\"email\"&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",onChange:passwordChangehandler,onBlur:passwordBlurHandler}),!error.isValid&&error.value===\"password\"&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error.message})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.submitBtn,children:\"Sign In\"})]})]}),/*#__PURE__*/_jsx(\"section\",{className:styles.rightContainer,children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"CRM\"})})]})]});};export default SignIn;","map":{"version":3,"sources":["/Users/mukesh-8058/Desktop/CRM/src/Pages/Signin.js"],"names":["styles","image","Fragment","useContext","Link","LoadingPage","useInput","AuthContext","useHttp","postSignIn","isEmail","value","includes","trim","length","isEmpty","SignIn","ctx","email","emailChangehandler","valueChangeHandler","emailBlurHandler","blurHandler","emailValid","isValid","emailTouched","isTouched","password","passwordChangehandler","passwordBlurHandler","passwordValid","passwordTouched","isLoading","error","sendRequest","signInhandler","e","preventDefault","signInObj","data","signIn","signup","signinContainer","form","message","submitBtn","rightContainer"],"mappings":"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","sourcesContent":["import styles from './SignIn.module.css';\nimport image from '../images/image.png'\nimport { Fragment, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport LoadingPage from './loadingPage';\nimport useInput from '../Hooks/inputHook';\nimport AuthContext from '../Store/Auth/AuthContext';\nimport useHttp from '../Hooks/httpHook';\nimport { postSignIn } from '../library/authFns';\n\nconst isEmail = (value) => value.includes('@') && value.trim().length > 3;\nconst isEmpty = (value) => value.trim() !== \"\" && value.trim().length >= 3; \n\nconst SignIn = () => {\n    const ctx = useContext(AuthContext);  \n\n    const {value: email, \n            valueChangeHandler: emailChangehandler, \n            blurHandler: emailBlurHandler, \n            isValid: emailValid, \n            isTouched: emailTouched} = useInput(isEmail);\n    const {value: password, \n            valueChangeHandler: passwordChangehandler, \n            blurHandler: passwordBlurHandler, \n            isValid: passwordValid, \n            isTouched: passwordTouched} = useInput(isEmpty);\n\n    const { isLoading, error, sendRequest } = useHttp(postSignIn, false);\n\n    const signInhandler = (e) => {\n        e.preventDefault();\n        if(emailValid && passwordValid) {\n            const signInObj = {\n                email,\n                password\n            }\n            sendRequest(signInObj, (data)=> {\n                ctx.signIn(data);\n            });\n        }\n    };\n\n    return <Fragment> \n                <div className={styles.signup}><button> <Link to=\"/signup\">SIGN UP</Link> </button></div>\n                <main className={styles.signinContainer}>\n                  { isLoading && <LoadingPage/>}\n                    <section className={styles.form}>\n                        <div className={styles[\"form-detail\"]}>\n                            <h1>Sign in</h1>\n                            <p>to access CRM.</p>\n                        </div>\n                    <form onSubmit={signInhandler}>\n                        <div className={styles[\"form-control\"]}>\n                            <label htmlFor=\"email\">Email</label>\n                            <input type=\"text\" id=\"email\" onChange={emailChangehandler} onBlur={emailBlurHandler}/>\n                            { !emailValid && emailTouched && <p className={styles.error}>Please enter a valid email</p> }\n                            { !error.isValid && error.value===\"email\" && <p className={styles.error}>{error.message}</p> }\n                        </div>\n                        <div className={styles[\"form-control\"]}>\n                            <label htmlFor=\"password\">Password</label>\n                            <input type=\"password\" id=\"password\" onChange={passwordChangehandler} onBlur={passwordBlurHandler}/>\n                            { !error.isValid && error.value===\"password\" && <p className={styles.error}>{error.message}</p> }\n                        </div>\n                        <button className={styles.submitBtn}>Sign In</button>\n                    </form>\n                </section>\n                <section className={styles.rightContainer}> \n                   <img src={image} alt=\"CRM\"/>\n                 </section>\n             </main>\n             </Fragment>\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}