{"ast":null,"code":"var _jsxFileName = \"/Users/mukesh-8058/Documents/CRM/src/Components/Notes/AddNote.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useHttp from '../../Hooks/httpHook';\nimport TopBarLoading from '../../Pages/LoadingTopBar';\nimport { leadActions } from '../../Store/Leads/leads-slice';\nimport styles from './AddNote.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddNote = props => {\n  _s();\n\n  const {\n    sendRequest,\n    isLoading\n  } = useHttp(props.addNoteHandler, true);\n  const dispatcher = useDispatch(); //function to convert decial values to hexadecial\n\n  const deimalToHexConvertor = val => {\n    const hexValue = Number(val).toString(16);\n    return hexValue.length === 1 ? \"0\" + hexValue : hexValue;\n  };\n\n  const RGBParser = rgbCodes => {\n    const [r, g, b] = rgbCodes;\n    return \"#\" + deimalToHexConvertor(r) + deimalToHexConvertor(g) + deimalToHexConvertor(b);\n  };\n\n  const fontColorChangeHandler = event => {\n    let command, value;\n    const colorStyle = event.currentTarget.getAttribute(\"style\").split(\": \")[1]; // input -> background-color: rgb(255, 102, 254); output -> rgb(255, 102, 254);\n\n    command = event.currentTarget.getAttribute(\"data-icon\");\n    const rgbDecimalCodes = colorStyle.substring(4, colorStyle.length - 2).split(\", \"); //255, 102, 254); -> [255,102, 254]\n\n    value = RGBParser(rgbDecimalCodes);\n    document.execCommand(command, false, value);\n\n    if (colorStyle) {\n      const root = document.querySelector(\":root\");\n      root.style.setProperty(\"--pesudo-background\", value);\n    }\n  };\n\n  const clickHandler = useCallback(event => {\n    let command, value;\n    command = event.currentTarget.getAttribute(\"data-icon\");\n    value = event.currentTarget.getAttribute(\"data-value\");\n    document.execCommand(command, false, value);\n  }, []);\n\n  const toggleHandler = event => {\n    const element = document.getElementById(`${event.currentTarget.getAttribute(\"id\")}_options`);\n\n    if (element.classList.contains(styles.hide)) {\n      element.classList.remove(styles.hide);\n      setTimeout(() => {\n        element.classList.add(styles.show);\n      }, 300);\n    } else if (element.classList.contains(styles.show)) {\n      element.classList.remove(styles.show);\n      setTimeout(() => {\n        element.classList.add(styles.hide);\n      }, 300);\n    }\n  };\n\n  const mouseDownHandler = e => e.preventDefault();\n\n  const saveNoteHandler = () => {\n    let note = document.getElementsByClassName(styles.note)[0].innerHTML;\n    dispatcher(leadActions.addNote({\n      content: note,\n      orgId: 100\n    })); //  sendRequest({ orgId: props.orgId, leadId: props.leadId, note})\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.AddNoteDiv,\n    children: [isLoading && /*#__PURE__*/_jsxDEV(TopBarLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.noteDiv,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.note,\n        placeholder: \"Enter a note..\",\n        contentEditable: true,\n        placeholder: \"Add a note...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.submitBtn,\n        onMouseDown: mouseDownHandler,\n        onClick: saveNoteHandler,\n        children: \"Add Note.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddNote, \"9vrVf+8s1aNMziXYMOiyeDSEWJc=\", false, function () {\n  return [useHttp, useDispatch];\n});\n\n_c = AddNote;\nexport default AddNote;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNote\");","map":{"version":3,"sources":["/Users/mukesh-8058/Documents/CRM/src/Components/Notes/AddNote.js"],"names":["useCallback","useDispatch","useHttp","TopBarLoading","leadActions","styles","AddNote","props","sendRequest","isLoading","addNoteHandler","dispatcher","deimalToHexConvertor","val","hexValue","Number","toString","length","RGBParser","rgbCodes","r","g","b","fontColorChangeHandler","event","command","value","colorStyle","currentTarget","getAttribute","split","rgbDecimalCodes","substring","document","execCommand","root","querySelector","style","setProperty","clickHandler","toggleHandler","element","getElementById","classList","contains","hide","remove","setTimeout","add","show","mouseDownHandler","e","preventDefault","saveNoteHandler","note","getElementsByClassName","innerHTML","addNote","content","orgId","AddNoteDiv","noteDiv","submitBtn"],"mappings":"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","sourcesContent":["import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useHttp from '../../Hooks/httpHook';\nimport TopBarLoading from '../../Pages/LoadingTopBar';\nimport { leadActions } from '../../Store/Leads/leads-slice';\nimport styles from './AddNote.module.css';\n\nconst AddNote = (props) => {\n\n    const {sendRequest, isLoading} = useHttp(props.addNoteHandler, true)\n    const dispatcher = useDispatch();\n    //function to convert decial values to hexadecial\n    const deimalToHexConvertor = (val) => {\n        const hexValue = (Number(val)).toString(16);\n        return hexValue.length === 1 ? \"0\" + hexValue : hexValue;\n    }\n\n    const RGBParser = (rgbCodes) => {\n        const [r, g, b] = rgbCodes;\n        return \"#\" + deimalToHexConvertor(r) + deimalToHexConvertor(g) + deimalToHexConvertor(b);\n\n    }\n\n    const fontColorChangeHandler = (event) => {\n        let command, value;\n        const colorStyle = event.currentTarget.getAttribute(\"style\").split(\": \")[1]; // input -> background-color: rgb(255, 102, 254); output -> rgb(255, 102, 254);\n        command = event.currentTarget.getAttribute(\"data-icon\");\n        const rgbDecimalCodes = colorStyle.substring(4, colorStyle.length - 2).split(\", \"); //255, 102, 254); -> [255,102, 254]\n        value = RGBParser(rgbDecimalCodes);\n        document.execCommand(command, false, value);\n        if(colorStyle) {\n            const root = document.querySelector(\":root\");\n            root.style.setProperty(\"--pesudo-background\", value);\n        }\n\n    }\n\n    const clickHandler = useCallback((event) => {\n        let command, value;\n        command = event.currentTarget.getAttribute(\"data-icon\");\n        value = event.currentTarget.getAttribute(\"data-value\");\n        document.execCommand(command, false, value);\n    }, []);\n\n    const toggleHandler = (event) => {\n        const element = document.getElementById(`${event.currentTarget.getAttribute(\"id\")}_options`);\n        if (element.classList.contains(styles.hide)) {\n\n            element.classList.remove(styles.hide);\n            setTimeout(() => {\n                element.classList.add(styles.show);\n            }, 300);\n\n        } else if (element.classList.contains(styles.show)) {\n\n            element.classList.remove(styles.show);\n            setTimeout(() => {\n                element.classList.add(styles.hide);\n            }, 300);\n\n        }\n    }\n    const mouseDownHandler = (e) => e.preventDefault();\n    const saveNoteHandler = () => {\n        let note = document.getElementsByClassName(styles.note)[0].innerHTML;\n        dispatcher(leadActions.addNote({content: note, orgId: 100}));\n        //  sendRequest({ orgId: props.orgId, leadId: props.leadId, note})\n    }\n\n    return (\n        <div className={styles.AddNoteDiv}>\n            { isLoading && <TopBarLoading/> }\n            \n           \n            <div className={styles.noteDiv}>\n            \n                <div className={styles.note} placeholder=\"Enter a note..\" contentEditable={true} placeholder=\"Add a note...\"></div>\n                <button className={styles.submitBtn} onMouseDown={mouseDownHandler} onClick={saveNoteHandler}>Add Note.</button>\n            </div>\n        </div>\n    )\n\n}\n\nexport default AddNote;"]},"metadata":{},"sourceType":"module"}