{"ast":null,"code":"import{useContext}from\"react\";import{useEffect}from\"react\";import{useSelector}from\"react-redux\";import ModuleActions from\"../Components/Leads/LeadsActions\";import LeadsContainer from\"../Components/Leads/LeadsContainer\";import useHttp from\"../Hooks/httpHook\";import AuthContext from\"../Store/Auth/AuthContext\";import{getAllLeads,getFilterColumns}from\"../Store/Leads/leads-actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeadsModule=function LeadsModule(){var ctx=useContext(AuthContext);var _useHttp=useHttp(getAllLeads,true),getLeads=_useHttp.sendRequest,isLoading=_useHttp.isLoading,getLeadsError=_useHttp.error;var _useHttp2=useHttp(getFilterColumns,true),fetchFilerColumns=_useHttp2.sendRequest,FilterLoading=_useHttp2.isLoading,filterError=_useHttp2.error;var _useSelector=useSelector(function(state){return state.leads;}),filterColumns=_useSelector.filterColumns,leads=_useSelector.leads,columns=_useSelector.columns;useEffect(function(){getLeads(ctx.orgId);fetchFilerColumns(ctx.orgId);},[ctx.orgId]);if(getLeadsError.isValid||filterError.isValid){return/*#__PURE__*/_jsxs(\"div\",{style:{height:\"93vh\",backgroundColor:\"white\",color:\"red\",fontWeight:\"bold\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:[getLeadsError&&filterError&&/*#__PURE__*/_jsx(\"p\",{children:getLeadsError.message}),/*#__PURE__*/_jsx(\"button\",{children:\"Please Re-Login\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ModuleActions,{path:\"add-lead\",module:\"Leads\"}),/*#__PURE__*/_jsx(LeadsContainer,{filterCols:filterColumns,leadCols:columns||[],leads:leads||[],isLoading:isLoading&&FilterLoading,filterError:filterError,getLeadsError:getLeadsError})]});};export default LeadsModule;","map":{"version":3,"sources":["/Users/mukesh-8058/Desktop/CRM/src/Pages/Leads.js"],"names":["useContext","useEffect","useSelector","ModuleActions","LeadsContainer","useHttp","AuthContext","getAllLeads","getFilterColumns","LeadsModule","ctx","getLeads","sendRequest","isLoading","getLeadsError","error","fetchFilerColumns","FilterLoading","filterError","state","leads","filterColumns","columns","orgId","isValid","height","backgroundColor","color","fontWeight","display","alignItems","justifyContent","message"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,WAAT,CAAsBC,gBAAtB,KAA8C,8BAA9C,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAMC,CAAAA,GAAG,CAAGV,UAAU,CAACM,WAAD,CAAtB,CAEA,aAAmED,OAAO,CAACE,WAAD,CAAc,IAAd,CAA1E,CAAqBI,QAArB,UAAQC,WAAR,CAA+BC,SAA/B,UAA+BA,SAA/B,CAAiDC,aAAjD,UAA0CC,KAA1C,CACA,cAAuFV,OAAO,CAACG,gBAAD,CAAmB,IAAnB,CAA9F,CAAoBQ,iBAApB,WAAOJ,WAAP,CAAkDK,aAAlD,WAAuCJ,SAAvC,CAAwEK,WAAxE,WAAiEH,KAAjE,CAEA,iBAA0Cb,WAAW,CAAC,SAAAiB,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAV,EAAN,CAArD,CAAQC,aAAR,cAAQA,aAAR,CAAuBD,KAAvB,cAAuBA,KAAvB,CAA8BE,OAA9B,cAA8BA,OAA9B,CAEArB,SAAS,CAAC,UAAM,CACbU,QAAQ,CAACD,GAAG,CAACa,KAAL,CAAR,CACAP,iBAAiB,CAACN,GAAG,CAACa,KAAL,CAAjB,CACF,CAHQ,CAGP,CAACb,GAAG,CAACa,KAAL,CAHO,CAAT,CAKA,GAAGT,aAAa,CAACU,OAAd,EAAyBN,WAAW,CAACM,OAAxC,CAAiD,CAC7C,mBAAO,aAAK,KAAK,CAAE,CAACC,MAAM,CAAC,MAAR,CAAgBC,eAAe,CAAC,OAAhC,CAAyCC,KAAK,CAAC,KAA/C,CAAsDC,UAAU,CAAC,MAAjE,CAAyEC,OAAO,CAAC,MAAjF,CAAyFC,UAAU,CAAC,QAApG,CAA8GC,cAAc,CAAC,QAA7H,CAAZ,WACLjB,aAAa,EAAII,WAAjB,eAAgC,mBAAIJ,aAAa,CAACkB,OAAlB,EAD3B,cAEP,2CAFO,GAAP,CAIH,CAED,mBAAO,oCACK,KAAC,aAAD,EAAe,IAAI,CAAC,UAApB,CAA+B,MAAM,CAAC,OAAtC,EADL,cAEK,KAAC,cAAD,EAAgB,UAAU,CAAEX,aAA5B,CAA2C,QAAQ,CAAGC,OAAO,EAAI,EAAjE,CAAsE,KAAK,CAAGF,KAAK,EAAG,EAAtF,CAA2F,SAAS,CAAEP,SAAS,EAAII,aAAnH,CAAkI,WAAW,CAAEC,WAA/I,CAA4J,aAAa,CAAEJ,aAA3K,EAFL,GAAP,CAIH,CAxBD,CA0BA,cAAeL,CAAAA,WAAf","sourcesContent":["import { useContext } from \"react\";\nimport { useEffect } from \"react\"\nimport { useSelector } from \"react-redux\";\nimport ModuleActions from \"../Components/Leads/LeadsActions\";\nimport LeadsContainer from \"../Components/Leads/LeadsContainer\";\nimport useHttp from \"../Hooks/httpHook\";\nimport AuthContext from \"../Store/Auth/AuthContext\";\nimport { getAllLeads, getFilterColumns } from \"../Store/Leads/leads-actions\";\n\nconst LeadsModule = () => {\n    const ctx = useContext(AuthContext);\n\n    const { sendRequest: getLeads, isLoading, error: getLeadsError } = useHttp(getAllLeads, true);\n    const {sendRequest: fetchFilerColumns, isLoading: FilterLoading, error: filterError} = useHttp(getFilterColumns, true);\n    \n    const { filterColumns, leads, columns } = useSelector(state => state.leads);\n\n    useEffect(() => {\n       getLeads(ctx.orgId);\n       fetchFilerColumns(ctx.orgId);\n    },[ctx.orgId]);\n\n    if(getLeadsError.isValid || filterError.isValid) {\n        return <div style={{height:\"93vh\", backgroundColor:\"white\", color:\"red\", fontWeight:\"bold\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\n        { getLeadsError && filterError && <p>{getLeadsError.message}</p>}\n        <button>Please Re-Login</button>\n        </div>\n    }\n\n    return <div> \n                <ModuleActions path=\"add-lead\" module=\"Leads\"/>\n                <LeadsContainer filterCols={filterColumns} leadCols={ columns || [] } leads={ leads|| [] } isLoading={isLoading && FilterLoading} filterError={filterError} getLeadsError={getLeadsError}/>\n            </div>\n}\n\nexport default LeadsModule;"]},"metadata":{},"sourceType":"module"}