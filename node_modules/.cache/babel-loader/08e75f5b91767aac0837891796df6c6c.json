{"ast":null,"code":"import _defineProperty from\"/Users/mukesh-8058/Desktop/CRM/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mukesh-8058/Desktop/CRM/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mukesh-8058/Desktop/CRM/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import useForm from'../../Hooks/useForm';import styles from'./AddLead.module.css';import LoadingPage from'../../Pages/loadingPage';import Input from'../Input/Input';import useHttp from'../../Hooks/httpHook';import AuthContext from'../../Store/Auth/AuthContext';import{addLeadRecord,getLeadsFields}from'../../Store/Leads/leads-actions';import FormActions from'../FormActions/FormActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddLead=function AddLead(){//custom hooks\nvar _useForm=useForm(getLeadsFields),inputHandler=_useForm.inputHandler,address=_useForm.address,information=_useForm.information,isLoading=_useForm.isLoading;var _useHttp=useHttp(addLeadRecord,true),addRecord=_useHttp.sendRequest,error=_useHttp.error;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var ctx=useContext(AuthContext);var informationFields,addressFields;if(address){addressFields=/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Address Information\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.inp,children:Object.values(address).map(function(obj){return/*#__PURE__*/_jsx(Input,{label:obj.label,type:obj.type,name:obj.name,value:obj.value,section:obj.section,handleChange:inputHandler},obj.id);})})]});}if(information){informationFields=/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Lead Information\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.inp,children:Object.values(information).map(function(obj){return/*#__PURE__*/_jsx(Input,{label:obj.label,type:obj.type,name:obj.name,value:obj.value,section:obj.section,handleChange:inputHandler,error:error},obj.id);})})]});}var saveHandler=function saveHandler(e){e.preventDefault();var leadObj={description:description,orgId:ctx.orgId};Object.values(address).map(function(leadAddress){return leadObj=_objectSpread(_objectSpread({},leadObj),{},_defineProperty({},leadAddress.name,leadAddress.value));});Object.values(information).map(function(leadInfo){return leadObj=_objectSpread(_objectSpread({},leadObj),{},_defineProperty({},leadInfo.name,leadInfo.value));});addRecord(leadObj,function(){console.log(\"re directing\");});};return/*#__PURE__*/_jsxs(\"form\",{className:styles.form,autoComplete:\"none\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingPage,{}),/*#__PURE__*/_jsx(FormActions,{saveHandler:saveHandler}),/*#__PURE__*/_jsxs(\"div\",{className:styles.formfields,children:[informationFields,addressFields,/*#__PURE__*/_jsx(\"h3\",{children:\"Description Information\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.inp,children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",onChange:function onChange(e){return setDescription(e.target.value);}})})]})]});};export default AddLead;","map":{"version":3,"sources":["/Users/mukesh-8058/Desktop/CRM/src/Components/Leads/AddLead.js"],"names":["React","useContext","useState","useForm","styles","LoadingPage","Input","useHttp","AuthContext","addLeadRecord","getLeadsFields","FormActions","AddLead","inputHandler","address","information","isLoading","addRecord","sendRequest","error","description","setDescription","ctx","informationFields","addressFields","inp","Object","values","map","obj","label","type","name","value","section","id","saveHandler","e","preventDefault","leadObj","orgId","leadAddress","leadInfo","console","log","form","formfields","target"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport useForm from '../../Hooks/useForm';\nimport styles from './AddLead.module.css';\nimport LoadingPage from '../../Pages/loadingPage';\nimport Input from '../Input/Input';\nimport useHttp from '../../Hooks/httpHook';\nimport AuthContext from '../../Store/Auth/AuthContext';\nimport { addLeadRecord, getLeadsFields } from '../../Store/Leads/leads-actions';\nimport FormActions from '../FormActions/FormActions';\n\n\nconst AddLead = () => {\n\n    //custom hooks\n    const { inputHandler, address, information, isLoading } = useForm(getLeadsFields);\n    const { sendRequest: addRecord, error } = useHttp( addLeadRecord, true);\n    \n    const [description, setDescription] = useState(\"\");\n    const ctx = useContext(AuthContext);\n    let informationFields, addressFields;\n\n    if(address) {\n         addressFields = <React.Fragment>\n                            <h3>Address Information</h3>\n                            <div className={styles.inp}>\n                            {Object.values(address).map(obj => <Input key={obj.id} label={obj.label} type={obj.type} name={obj.name} value={obj.value} section={obj.section} handleChange={inputHandler}/>) }         \n                            </div>\n                            </React.Fragment>\n    }\n\n    if(information) {\n        informationFields =  <React.Fragment>\n                                <h3>Lead Information</h3>\n                                <div className={styles.inp}>\n                                { Object.values(information).map(obj => <Input \n                                    key={obj.id} \n                                    label={obj.label} \n                                    type={obj.type} \n                                    name={obj.name} \n                                    value={obj.value} \n                                    section={obj.section} \n                                    handleChange={inputHandler}\n                                    error={error}\n                                    />) }       \n                                </div>\n                                </React.Fragment>\n    }\n\n    const saveHandler = (e) => {\n        e.preventDefault();\n        let leadObj = { description, orgId: ctx.orgId };\n\n        Object.values(address).map(leadAddress =>  leadObj = { ...leadObj, [leadAddress.name] : leadAddress.value });\n        Object.values(information).map(leadInfo => leadObj = { ...leadObj, [leadInfo.name]: leadInfo.value });\n        addRecord(leadObj, ()=> {\n            console.log(\"re directing\");\n        });\n    }\n\n    return (\n            <form className={styles.form} autoComplete=\"none\">\n                { isLoading && <LoadingPage/> }\n                <FormActions saveHandler={saveHandler}/>\n                <div className={styles.formfields}>\n                        {informationFields}\n                        {addressFields}\n                    <h3>Description Information</h3>\n                    <div  className={styles.inp}>\n                        <textarea type=\"text\" name=\"description\" onChange={(e) => setDescription(e.target.value)}></textarea>\n                    </div>\n                </div>       \n            </form>\n    )\n\n}\n\nexport default AddLead;"]},"metadata":{},"sourceType":"module"}