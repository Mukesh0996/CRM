{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport AuthContext from \"../Store/Auth/AuthContext\";\n\nconst useHttp = (requestFn, dispatcherIsTrue) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState({\n    isValid: false,\n    value: \"\",\n    message: \"\"\n  });\n  const ctx = useContext(AuthContext);\n  const dispatch = useDispatch();\n\n  const sendRequest = async (orgId, sendData) => {\n    setIsLoading(true);\n    console.log(\"executing 1\");\n    let responseData;\n\n    try {\n      if (dispatcherIsTrue) {\n        console.log(\"executing 2\");\n        responseData = await dispatch(requestFn(orgId, ctx.token));\n        console.log(\"executing 3\");\n      } else {\n        console.log(\"executing 2 else\");\n        responseData = await requestFn(orgId, ctx.token);\n        console.log(\"executing 3 else\");\n        sendData(responseData); //transports the data from the server to the respective function component\n      }\n    } catch (error) {\n      setIsLoading(false);\n      setError({\n        isValid: error.isValid,\n        message: error.message,\n        value: error.value\n      });\n    }\n\n    console.log(\"executing 4\");\n    setIsLoading(false);\n    console.log(\"executing 5\");\n  };\n\n  return {\n    isLoading,\n    sendRequest,\n    error\n  };\n};\n\n_s(useHttp, \"0vNiIYTZtZvqmJPpxWCV6ur8k4o=\", false, function () {\n  return [useDispatch];\n});\n\nexport default useHttp;","map":{"version":3,"sources":["/Users/mukesh-8058/Desktop/CRM/src/Hooks/httpHook.js"],"names":["useContext","useState","useDispatch","AuthContext","useHttp","requestFn","dispatcherIsTrue","isLoading","setIsLoading","error","setError","isValid","value","message","ctx","dispatch","sendRequest","orgId","sendData","console","log","responseData","token"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AAGA,MAAMC,OAAO,GAAG,CAACC,SAAD,EAAYC,gBAAZ,KAAiC;AAAA;;AAE7C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC;AAACU,IAAAA,OAAO,EAAE,KAAV;AAAiBC,IAAAA,KAAK,EAAC,EAAvB;AAA2BC,IAAAA,OAAO,EAAC;AAAnC,GAAD,CAAlC;AACA,QAAMC,GAAG,GAAGd,UAAU,CAACG,WAAD,CAAtB;AACA,QAAMY,QAAQ,GAAGb,WAAW,EAA5B;;AAEA,QAAMc,WAAW,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AAC3CV,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,QAAIC,YAAJ;;AACA,QAAI;AACA,UAAGf,gBAAH,EAAqB;AAClBa,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAC,QAAAA,YAAY,GAAI,MAAMN,QAAQ,CAACV,SAAS,CAACY,KAAD,EAAQH,GAAG,CAACQ,KAAZ,CAAV,CAA9B;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACF,OAJD,MAIO;AACHD,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAC,QAAAA,YAAY,GAAG,MAAMhB,SAAS,CAACY,KAAD,EAAQH,GAAG,CAACQ,KAAZ,CAA9B;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAF,QAAAA,QAAQ,CAACG,YAAD,CAAR,CAJG,CAIsB;AAC5B;AACJ,KAXD,CAWE,OAAOZ,KAAP,EAAc;AACZD,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,QAAQ,CAAC;AACLC,QAAAA,OAAO,EAAEF,KAAK,CAACE,OADV;AAELE,QAAAA,OAAO,EAAEJ,KAAK,CAACI,OAFV;AAGLD,QAAAA,KAAK,EAAEH,KAAK,CAACG;AAHR,OAAD,CAAR;AAKH;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAZ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,GA1BD;;AA4BA,SAAO;AACHb,IAAAA,SADG;AAEHS,IAAAA,WAFG;AAGHP,IAAAA;AAHG,GAAP;AAMH,CAzCD;;GAAML,O;UAKeF,W;;;AAsCrB,eAAeE,OAAf","sourcesContent":["import { useContext, useState } from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport AuthContext from \"../Store/Auth/AuthContext\";\n\n\nconst useHttp = (requestFn, dispatcherIsTrue) => {\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState({isValid: false, value:\"\", message:\"\"});\n    const ctx = useContext(AuthContext);\n    const dispatch = useDispatch();\n\n    const sendRequest = async (orgId, sendData) => {\n        setIsLoading(true);\n        console.log(\"executing 1\");\n        let responseData;\n        try {\n            if(dispatcherIsTrue) {\n               console.log(\"executing 2\");\n               responseData =  await dispatch(requestFn(orgId, ctx.token));\n               console.log(\"executing 3\");\n            } else {\n                console.log(\"executing 2 else\");\n                responseData = await requestFn(orgId, ctx.token);\n                console.log(\"executing 3 else\");\n                sendData(responseData);  //transports the data from the server to the respective function component\n            }   \n        } catch (error) {\n            setIsLoading(false);\n            setError({\n                isValid: error.isValid,\n                message: error.message,\n                value: error.value\n            });\n        }\n        console.log(\"executing 4\");\n        setIsLoading(false);\n        console.log(\"executing 5\");\n    }\n\n    return {\n        isLoading,\n        sendRequest,\n        error\n    }\n\n}\n\nexport default useHttp;"]},"metadata":{},"sourceType":"module"}